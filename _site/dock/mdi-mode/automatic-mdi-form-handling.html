<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9">
        <title>Automatic MDI Form Handling</title>
		
        <link href="/devtools/winforms/favicon.ico?Version=2014" rel="shortcut icon" />
		
        <meta name="description" content="Automatic MDI Form Handling">
        <link href="http://cdn.kendostatic.com/2014.2.716/styles/kendo.common.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="/devtools/winforms/assets/styles-0b5a71aa940403cb3ac60d7e91e25e1d.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/theme-52ac78f88dc084a004a9f7d63a3c4245.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/branding-fafb6ed99bf90d251675534381e6f139.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/highlight-49ceada082f1c903edb130c25d09cf1f.css">
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://cdn.kendostatic.com/2014.2.716/js/kendo.web.min.js"></script>
        <script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/app-6da8e8e1ef6e19ee4a020ec34f48078c.js"></script>
		<script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/branding-59377013fb75f02a1dbffd638033ef6d.js"></script>
		<script src="/devtools/winforms/assets/feedback-76cd418a099f8d21592f412fb4a31191.js"></script>
		
		<!--[if lt IE 9]>
		<script>
		document.createElement('header');
		document.createElement('nav');
		document.createElement('section');
		document.createElement('article');
		document.createElement('aside');
		document.createElement('footer');
		document.createElement('hgroup');
		</script>
		<![endif]-->
    </head>
    <body class="faux-columns">
        <!-- Google Tag Manager -->
        <noscript>
            <iframe src="//www.googletagmanager.com/ns.html?id=GTM-6X92" height="0" width="0" style="display: none; visibility: hidden"></iframe>
        </noscript>
        <script>(function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-6X92');</script>
        <!-- End Google Tag Manager -->
        <header id="page-header">
			<span class="toggle-nav"><span></span></span>
            <div id="logo-bar">
	<a href="/devtools/winforms/" title="UI for WinForms">
		<span>UI for WinForms</span>
	</a>
</div> 
<div id="page-search">
	<script>
  (function() {
    var cx = '001595215763381649090:jt1stbj813w';
    var gcse = document.createElement('script');
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

</div>

<span class="show-search">
	<span class="k-icon k-i-search"></span>
</span>

<div class="nav-buttons">
	<a href="http://demos.telerik.com/wpf/" title="WPF Demos" target="_blank" class="btn demos-btn">Demos</a>	
	<a href="http://www.telerik.com/products/wpf/overview.aspx" title="About UI for WPF" target="_blank" class="btn about-btn">About</a>
	<a href="http://www.telerik.com/purchase/individual/wpf.aspx" title="Pricing" target="_blank" class="btn pricing-btn">Pricing</a>
	<a href="http://www.telerik.com/products/wpf/download.aspx" title="Try now" target="_blank" class="btn btn-primary">Try now</a>
</div>





        </header>

        <div id="page-inner-content">
    <div id="page-nav">
        <div id="page-tree"></div>
        <script>
			$("#page-tree").kendoTreeView({
				dataSource: {
					transport: {
						read: {
							url: "/devtools/winforms/default.json",
							dataType: "json"
						}
					},
					schema: {
						model: {
							id: "path",
							children: "items",
							hasChildren: "items"
						}
					}
				},
				select: preventParentSelection,
				template: navigationTemplate("/devtools/winforms/"),
				dataBound: expandNavigation("dock/mdi-mode/automatic-mdi-form-handling.html")
			});
        </script>
		<div id="page-api" class="k-treeview">
			<ul class="k-group">
				<li class="k-item">
					<span class="k-icon k-plus" role="presentation"></span>
					<span class="k-in">
						<a href="/devtools/winforms/api/" target="_blank">API Reference</a>
					</span>
				</li>
			</ul>
		</div>			
    </div>
	<a id="page-edit-link" class="btn btn-action" href="https://github.com/telerik/xaml-docs/edit/master/dock/mdi-mode/automatic-mdi-form-handling.md">Edit this page</a>
    <div id="page-article">       
        <article>
            <h1 id="automatic-mdi-form-handling"><a href="#automatic-mdi-form-handling">Automatic MDI Form Handling</a></h1>

<p>RadDock has the capability of automatically finding and attaching Multiple Document Interface (MDI) child forms as tabbed documents. Since RadDock takes control over the MDI children, these children are not added to the parent form's MdiChildren collection, but they are added to the RadDock.MdiChildren collection instead.<img src="images/dock-mdi-mode-automatic-mdi-form-handling001.png" alt="dock-mdi-mode-automatic-mdi-form-handling 001"></p>

<p>To configure your MDI application to use this feature:</p>

<ol>
<li><p>First designate which form that will act as MDI container.  Set the parent form <strong>IsMdiContainer</strong> property to true. This can be done at design time or in code (see code example below).</p></li>
<li><p>Drop a <strong>RadDock</strong> onto the parent form and set the <strong>AutoDetectMdiChildForms</strong> property to true. You may also want to set the <strong>RadDock.Dock</strong> property to <strong>Fill</strong> to get the best use of space on the form.</p></li>
</ol>

<h4><strong>[C#] Configuring the Parent Form</strong></h4>

<pre><code>        private void Form1_Load(object sender, EventArgs e)
        {
            this.IsMdiContainer = true;
            this.radDock1.AutoDetectMdiChildren = true;
        }
</code></pre>

<h4><strong>[VB.NET] Configuring the Parent Form</strong></h4>

<pre><code>    Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        Me.IsMdiContainer = True
        Me.RadDock1.AutoDetectMdiChildren = True
    End Sub
</code></pre>

<ol>
<li><p>Add a form to the project that will serve the role of child form. No properties, methods or event handlers need to be set for this form, except that you may want to add some content that will be visible when the child forms are displayed as tabbed documents.</p></li>
<li><p>Add code to the parent form to create the child form and assign it an MDI parent:</p></li>
</ol>

<h4><strong>[C#]</strong></h4>

<pre><code>        private void radMenuItem1_Click(object sender, EventArgs e)
        {
            Form childForm = new Form();
            childForm.Text = "MDI Child " + DateTime.Now.ToShortTimeString();
            childForm.MdiParent = this;
            childForm.Show();
        }
</code></pre>

<h4><strong>[VB.NET]</strong></h4>

<pre><code>    Private Sub RadMenuItem1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles RadMenuItem1.Click
        Dim childForm As New Form()
        childForm.Text = "MDI Child " &amp; DateTime.Now.ToShortTimeString()
        childForm.MdiParent = Me
        childForm.Show()
    End Sub
</code></pre>

<h2 id="mdichildrendocktype"><a href="#mdichildrendocktype">MdiChildrenDockType</a></h2>

<p>This property allows you to determine the default type of the DockWindows that will be created for the MDI children forms. By default these DockWindows are DocumentWindows. </p>

<p>However, you can set the default type to ToolWindow:</p>

<h4><strong>[C#] Setting the default DockWindow type for MDI children forms</strong></h4>

<pre><code>            this.radDock1.MdiChildrenDockType = DockType.ToolWindow;
</code></pre>

<h4><strong>[VB.NET] Setting the default DockWindow type for MDI children forms</strong></h4>

<pre><code>        Me.RadDock1.MdiChildrenDockType = DockType.ToolWindow
</code></pre>

<p>When initially created, these ToolWindows look like DocumentWindows. This is just because their state is Tabbed Document. However, their real identity is ToolWindow - i.e. these windows can be docked, auto-hidden and floated. <img src="images/dock-mdi-mode-automatic-mdi-form-handling002.png" alt="dock-mdi-mode-automatic-mdi-form-handling 002"></p>

<h2 id="closing-a-window-containing-an-mdi-child-form"><a href="#closing-a-window-containing-an-mdi-child-form">Closing a window containing an MDI child form</a></h2>

<p>When closing a DockWindow that has been automatically created to host an MDI form, we should be aware<br>
        of the exact order the closing events are fired in. Note that in addition to the closing events of the<br>
        DockWindow we are also getting the closing events of the hosted form fired and the order is:</p>

<ul>
<li><p><strong>FormClosing</strong> of the hosted MDI child form</p></li>
<li><p><strong>FormClosed</strong> of the hosted MDI child form</p></li>
<li><p><strong>DockWindowClosing</strong> of the DockWindow that hosts the MDI child form</p></li>
<li><p><strong>DockWindowClosed</strong> of the DockWindow that hosts the MDI child form</p></li>
</ul>

<p>This chain of events allows you to encapsulate all your business logic in the respective forms. For example,<br>
        you may have to show a message box asking the user to confirm the closing operation and the best place for this will<br>
        be the FormClosing event of the form. If the FormClosing event is canceled, none of the windows (the DockWindow and the <br>
        child MDI form) will be closed.      </p>

<h2 id="cancel-the-main-form-closing"><a href="#cancel-the-main-form-closing">Cancel the main form closing</a></h2>

<p>The <strong>CloseAllWindows</strong> returns bool value which indicates if the operation is successful (it will return true if all child windows are closed).<br>
        This is allowing you to keep the main form opened if some of the MDI children cannot be closed for the moment. You can use the method as follows:      </p>

<h4><strong>[C#]</strong></h4>

<pre><code>        protected override void OnClosing(CancelEventArgs e)
        {
            bool canClose = radDock1.CloseAllWindows();
            e.Cancel = !canClose;

            base.OnClosing(e);

        }
</code></pre>

<h4><strong>[VB.NET]</strong></h4>

<pre><code>    Protected Overrides Sub OnClosing(ByVal e As CancelEventArgs)
        Dim canClose As Boolean = RadDock1.CloseAllWindows()
        e.Cancel = Not canClose

        MyBase.OnClosing(e)

    End Sub
    '#End Region
End Class
</code></pre>

<h2 id="using-singleton-forms-in-mdi-scenario-with-raddock"><a href="#using-singleton-forms-in-mdi-scenario-with-raddock">Using Singleton forms in MDI scenario with RadDock</a></h2>

<p>A popular scenario for many applications is the use of singleton forms, where the end-user<br>
        can show one type of form once only and where closing the form would mean just hiding it which saves its <br>
        state for further showing and manipulation.</p>

<pre><code>    This scenario is popular in context of MDI as well. However, the architecture and chain of events in RadDock
    do not allow such a feature in the MDI case. Therefore, if you have such a requirement for your application,
    you need to remove the MDI functionality from it and use the standard approach of docking of controls/forms.

    One of the benefits that come with this approach concerns the overhead of the MDI approach. 
    On one hand, you have the .NET MdiClient created and attached to the main 
    form and on the other hand, you have our RadDock that snoops on the notifications from the MDI Client. 
    If it captures new Forms added, it internally creates HostWindows, adds the Forms to the HostWindows, 
    and adds HostWindows to the MainDocumentContainer.

    For more information about the non-MDI approach, please refer to 
      [this article](/dock/docking-usercontrols-and-forms/docking-singleton-forms)
</code></pre>
        </article>
    </div>	
</div>

<footer>	
    <p><a onclick="javascript:SubmitFeedback('documentation@telerik.com','Telerik UI for WinForms','','','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback'); return false;" href="javascript:;" id="send-feedback">Send Feedback</a> Copyright &copy; 2002-<span id="toYear"></span> Telerik. All rights reserved.</p>
</footer>

    </body>
</html>

