<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9">
        <title>Customizing Items (visual appearance)</title>
		
        <link href="/devtools/winforms/favicon.ico?Version=2014" rel="shortcut icon" />
		
        <meta name="description" content="Customizing Items (visual appearance)">
        <link href="http://cdn.kendostatic.com/2014.2.716/styles/kendo.common.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="/devtools/winforms/assets/styles-849dcaf701d866988e8c3593f15b66de.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/theme-52ac78f88dc084a004a9f7d63a3c4245.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/branding-fafb6ed99bf90d251675534381e6f139.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/highlight-49ceada082f1c903edb130c25d09cf1f.css">
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://cdn.kendostatic.com/2014.2.716/js/kendo.web.min.js"></script>
        <script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/app-6da8e8e1ef6e19ee4a020ec34f48078c.js"></script>
		<script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/branding-59377013fb75f02a1dbffd638033ef6d.js"></script>
		<script src="/devtools/winforms/assets/feedback-76cd418a099f8d21592f412fb4a31191.js"></script>
		
		<!--[if lt IE 9]>
		<script>
		document.createElement('header');
		document.createElement('nav');
		document.createElement('section');
		document.createElement('article');
		document.createElement('aside');
		document.createElement('footer');
		document.createElement('hgroup');
		</script>
		<![endif]-->
    </head>
    <body class="faux-columns">
        <!-- Google Tag Manager -->
        <noscript>
            <iframe src="//www.googletagmanager.com/ns.html?id=GTM-6X92" height="0" width="0" style="display: none; visibility: hidden"></iframe>
        </noscript>
        <script>(function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-6X92');</script>
        <!-- End Google Tag Manager -->
        <header id="page-header">
			<span class="toggle-nav"><span></span></span>
            <div id="logo-bar">
	<a href="/devtools/winforms/" title="UI for WinForms">
		<span>UI for WinForms</span>
	</a>
</div> 
<div id="page-search">
	<script>
  (function() {
    var cx = '001595215763381649090:jt1stbj813w';
    var gcse = document.createElement('script');
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

</div>

<span class="show-search">
	<span class="k-icon k-i-search"></span>
</span>

<div class="nav-buttons">
	<a href="http://demos.telerik.com/" title="WinForms Demos" target="_blank" class="btn demos-btn">Demos</a>	
	<a href="http://www.telerik.com/products/winforms.aspx" title="About UI for WinForms" target="_blank" class="btn about-btn">About</a>
	<a href="http://www.telerik.com/purchase/individual/winforms.aspx" title="Pricing" target="_blank" class="btn pricing-btn">Pricing</a>
	<a href="http://www.telerik.com/products/winforms/download.aspx" title="Try now" target="_blank" class="btn btn-primary">Try now</a>
</div>





        </header>

        <div id="page-inner-content">
    <div id="page-nav">
        <div id="page-tree"></div>
        <script>
			$("#page-tree").kendoTreeView({
				dataSource: {
					transport: {
						read: {
							url: "/devtools/winforms/default.json",
							dataType: "json"
						}
					},
					schema: {
						model: {
							id: "path",
							children: "items",
							hasChildren: "items"
						}
					}
				},
				select: preventParentSelection,
				template: navigationTemplate("/devtools/winforms/"),
				dataBound: expandNavigation("dropdown-and-listcontrol/listcontrol/customizing-items-(visual-appearance).html")
			});
        </script>
		<div id="page-api" class="k-treeview">
			<ul class="k-group">
				<li class="k-item">
					<span class="k-icon k-plus" role="presentation"></span>
					<span class="k-in">
						<a href="/devtools/winforms/api/" target="_blank">API Reference</a>
					</span>
				</li>
			</ul>
		</div>			
    </div>
	<a id="page-edit-link" class="btn btn-action" href="https://github.com/telerik/xaml-docs/edit/master/dropdown-and-listcontrol/listcontrol/customizing-items-(visual-appearance).md">Edit this page</a>
    <div id="page-article">       
        <article>
            <h1 id="customizing-items-visual-appearance"><a href="#customizing-items-visual-appearance">Customizing Items (visual appearance)</a></h1>

<p>You can use the <strong>ItemDataBound</strong> event to change item content based on the data that is bound to each item. The <strong>ListItemDataBoundEventArgs</strong> include properties for the native DataBoundItem (a DataRowView object, which provides access to the entire row being bound) and the data item of RadListControl. In the example below the DisplayName property is "FirstName". Two other columns, "FirstName" and "TitleOfCourtesy", are pre-pended to the data list item.</p>

<p>With the introduction of the <strong>HTML-like text rendering featurehttp://<a href="http://www.telerik.com/help/winforms/tpfhtml-like_text_formatting.html">www.telerik.com/help/winforms/tpfhtml-like_text_formatting.html</a></strong>, Telerik Presentation Framework increased the level of the available customizations that you can apply. That said, you are able to use this feature to indicate different roles of different parts of the <strong>Text</strong> property value.</p>

<p>The aim of this article is to demonstrate how you can achieve to look shown below. As you can see we have three different parts of the text: <em>TitleOfCourtesy</em>, <em>FullName</em>(<em>FirstName</em> +Â <em>LastName</em>) and <em>Title</em>. For the purposes of the example, we are going to add an image as well.</p>

<p><img src="images/dropdown-and-listcontrol-listcontrol-customizing-items-visual-appearance001.png" alt="dropdown-and-listcontrol-listcontrol-customizing-items-visual-appearance 001"></p>

<ol>
<li>Handle the ItemDataBound event to fill the data list items with custom data. </li>
</ol>

<h4><strong>[C#] Handling the ItemDataBound event</strong></h4>

<pre><code>        void radListControl1_ItemDataBound(object sender, ListItemDataBoundEventArgs args)
        {
            DataRowView view = (DataRowView)args.NewItem.DataBoundItem;
            args.NewItem.Text = "&lt;html&gt;&lt;b&gt;" + view["TitleOfCourtesy"] + "&lt;/b&gt;" +
                " " + view["FirstName"] +
                " " + view["LastName"] +
                "&lt;br&gt;&lt;i&gt;" + view["Title"];
            NwindDataSet.EmployeesRow row = view.Row as NwindDataSet.EmployeesRow;
            args.NewItem.Image = GetImageFromData(row.Photo);
        }
</code></pre>

<h4><strong>[VB.NET] Handling the ItemDataBound event</strong></h4>

<pre><code>    Private Sub radListControl1_ItemDataBound(ByVal sender As Object, ByVal args As Telerik.WinControls.UI.ListItemDataBoundEventArgs)
        Dim view As DataRowView = CType(args.NewItem.DataBoundItem, DataRowView)
        args.NewItem.Text = "&lt;html&gt;&lt;b&gt;" &amp; view("TitleOfCourtesy") &amp; "&lt;/b&gt;" &amp; " " &amp; view("FirstName") &amp; " " &amp; view("LastName") &amp; "&lt;br&gt;&lt;i&gt;" &amp; view("Title")
        Dim row As NwindDataSet.EmployeesRow = TryCast(view.Row, NwindDataSet.EmployeesRow)
        args.NewItem.Image = GetImageFromData(row.Photo)
    End Sub
</code></pre>

<h4><strong>[C#] Image helper method</strong></h4>

<pre><code>        private bool HasOleContainerHeader(byte[] imageByteArray)
        {
            const byte OleByte0 = 21;
            const byte OleByte1 = 28;
            return (imageByteArray[0] == OleByte0) &amp;&amp; (imageByteArray[1] == OleByte1);
        }
        private Image GetImageFromData(byte[] imageData)
        {
            const int OleHeaderLength = 78;
            MemoryStream memoryStream = new MemoryStream();
            if (HasOleContainerHeader(imageData))
            {
                memoryStream.Write(imageData, OleHeaderLength, imageData.Length - OleHeaderLength);
            }
            else
            {
                memoryStream.Write(imageData, 0, imageData.Length);
            }
            Bitmap bitmap = new Bitmap(memoryStream);
            return bitmap.GetThumbnailImage(55, 65, null, new IntPtr());
        }
</code></pre>

<h4><strong>[VB.NET] Image helper method</strong></h4>

<pre><code>    Private Function HasOleContainerHeader(ByVal imageByteArray As Byte()) As Boolean
        Const OleByte0 As Byte = 21
        Const OleByte1 As Byte = 28
        Return (imageByteArray(0) = OleByte0) AndAlso (imageByteArray(1) = OleByte1)
    End Function
    Private Function GetImageFromData(ByVal imageData As Byte()) As Image
        Const OleHeaderLength As Integer = 78
        Dim memoryStream As MemoryStream = New MemoryStream()
        If HasOleContainerHeader(imageData) Then
            memoryStream.Write(imageData, OleHeaderLength, imageData.Length - OleHeaderLength)
        Else
            memoryStream.Write(imageData, 0, imageData.Length)
        End If
        Dim bitmap As Bitmap = New Bitmap(memoryStream)
        Return bitmap.GetThumbnailImage(55, 65, Nothing, New IntPtr())
    End Function
</code></pre>

<ol>
<li>Since the <em><br></em> tag will split the <strong>Text</strong> value in different lines, it is essential to set the <strong>AutoSizeItems</strong> of RadListControl to <em>true</em>:</li>
</ol>

<h4><strong>[C#] Setting AutoSizeItems</strong></h4>

<pre><code>            this.radListControl1.AutoSizeItems = true;
</code></pre>

<h4><strong>[VB.NET] Setting AutoSizeItems</strong></h4>

<pre><code>        Me.radListControl1.AutoSizeItems = True
</code></pre>

<ol>
<li>Should you want to have apply some padding to the visual items, you should do it on CreatingVisualListItem event: </li>
</ol>

<h4><strong>[C#] Applying Padding to the visual list items</strong></h4>

<pre><code>        void radListControl1_CreatingVisualListItem(object sender, CreatingVisualListItemEventArgs args)
        {
            RadListVisualItem visualItem = new RadListVisualItem();
            visualItem.Padding = new Padding(5, 5, 0, 5);
            args.VisualItem = visualItem;
        }
</code></pre>

<h4><strong>[VB.NET] Applying Padding to the visual list items</strong></h4>

<pre><code>    Private Sub radListControl1_CreatingVisualListItem(ByVal sender As Object, ByVal args As Telerik.WinControls.UI.CreatingVisualListItemEventArgs)
        Dim visualItem As RadListVisualItem = New RadListVisualItem()
        visualItem.Padding = New Padding(5, 5, 0, 5)
        args.VisualItem = visualItem
    End Sub
</code></pre>
        </article>
    </div>	
</div>

<footer>	
    <p><a onclick="javascript:SubmitFeedback('documentation@telerik.com','Telerik UI for WinForms','','','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback'); return false;" href="javascript:;" id="send-feedback">Send Feedback</a> Copyright &copy; 2002-<span id="toYear"></span> Telerik. All rights reserved.</p>
</footer>

    </body>
</html>

