<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9">
        <title>Change the editor to a bound RadDropDownList</title>
		
        <link href="/devtools/winforms/favicon.ico?Version=2014" rel="shortcut icon" />
		
        <meta name="description" content="Change the editor to a bound RadDropDownList">
        <link href="http://cdn.kendostatic.com/2014.2.716/styles/kendo.common.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="/devtools/winforms/assets/styles-0b5a71aa940403cb3ac60d7e91e25e1d.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/theme-52ac78f88dc084a004a9f7d63a3c4245.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/branding-fafb6ed99bf90d251675534381e6f139.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/highlight-49ceada082f1c903edb130c25d09cf1f.css">
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://cdn.kendostatic.com/2014.2.716/js/kendo.web.min.js"></script>
        <script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/app-6da8e8e1ef6e19ee4a020ec34f48078c.js"></script>
		<script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/branding-59377013fb75f02a1dbffd638033ef6d.js"></script>
		<script src="/devtools/winforms/assets/feedback-76cd418a099f8d21592f412fb4a31191.js"></script>
		
		<!--[if lt IE 9]>
		<script>
		document.createElement('header');
		document.createElement('nav');
		document.createElement('section');
		document.createElement('article');
		document.createElement('aside');
		document.createElement('footer');
		document.createElement('hgroup');
		</script>
		<![endif]-->
    </head>
    <body class="faux-columns">
        <!-- Google Tag Manager -->
        <noscript>
            <iframe src="//www.googletagmanager.com/ns.html?id=GTM-6X92" height="0" width="0" style="display: none; visibility: hidden"></iframe>
        </noscript>
        <script>(function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-6X92');</script>
        <!-- End Google Tag Manager -->
        <header id="page-header">
			<span class="toggle-nav"><span></span></span>
            


<div id="page-search">
	<script>
  (function() {
    var cx = '001595215763381649090:jt1stbj813w';
    var gcse = document.createElement('script');
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

</div>

<span class="show-search">
	<span class="k-icon k-i-search"></span>
</span>

<div class="nav-buttons">


</div>





        </header>

        <div id="page-inner-content">
    <div id="page-nav">
        <div id="page-tree"></div>
        <script>
			$("#page-tree").kendoTreeView({
				dataSource: {
					transport: {
						read: {
							url: "/devtools/winforms/default.json",
							dataType: "json"
						}
					},
					schema: {
						model: {
							id: "path",
							children: "items",
							hasChildren: "items"
						}
					}
				},
				select: preventParentSelection,
				template: navigationTemplate("/devtools/winforms/"),
				dataBound: expandNavigation("dataentry/how-to/change-editor-to-drop-down-list.html")
			});
        </script>
		<div id="page-api" class="k-treeview">
			<ul class="k-group">
				<li class="k-item">
					<span class="k-icon k-plus" role="presentation"></span>
					<span class="k-in">
						<a href="/devtools/winforms/api/" target="_blank">API Reference</a>
					</span>
				</li>
			</ul>
		</div>			
    </div>
	<a id="page-edit-link" class="btn btn-action" href="https://github.com/telerik/xaml-docs/edit/master/dataentry/how-to/change-editor-to-drop-down-list.md">Edit this page</a>
    <div id="page-article">       
        <article>
            <h1 id="change-the-editor-to-a-bound-raddropdownlist"><a href="#change-the-editor-to-a-bound-raddropdownlist">Change the editor to a bound RadDropDownList</a></h1>

<p>This article will walk you through the process of changing the default editor to a bound drop down list, where the current value corresponds<br>
        to a value within the drop down list data source. The case where the corresponding values are nullable is also handled.<br>
      <img src="images/dataentry-how-to-change-editor-to-drop-down-list001.png" alt="dataentry-how-to-change-editor-to-drop-down-list 001"></p>

<ol>
<li>First you can subscribe to the <strong>BindingCreating</strong>, <strong>BindingCreated</strong> and
          <strong>EditorInitializing</strong> events of <strong>RadDataEntry</strong>
          (please note that this should be done before the data entry control is being data bound).</li>
</ol>

<h4>__[C#] __</h4>

<pre><code>            radDataEntry1.EditorInitializing += radDataEntry1_EditorInitializing;
            radDataEntry1.BindingCreating += radDataEntry1_BindingCreating;
            radDataEntry1.BindingCreated += radDataEntry1_BindingCreated;

            radDataEntry1.DataSource = productsBinding;
</code></pre>

<h4>__[VB.NET] __</h4>

<pre><code>        AddHandler radDataEntry1.EditorInitializing, AddressOf radDataEntry1_EditorInitializing
        AddHandler radDataEntry1.BindingCreating, AddressOf radDataEntry1_BindingCreating
        AddHandler radDataEntry1.BindingCreated, AddressOf radDataEntry1_BindingCreated

        radDataEntry1.DataSource = productsBinding
</code></pre>

<ol>
<li>In the <strong>EditorInitializing</strong> event handler, you will be able to change the automatically generated editor with RadDropDownList.
          In addition, you should set it up as needed. In this case we will set the <strong>DataSource</strong>, <strong>DisplayMember</strong> and 
          <strong>ValueMenber</strong> properties.</li>
</ol>

<h4>__[C#] __</h4>

<pre><code>        RadDropDownList radDropDownList1;

        void radDataEntry1_EditorInitializing(object sender, Telerik.WinControls.UI.EditorInitializingEventArgs e)
        {
            if (e.Property.Name == "SupplierID")
            {
                radDropDownList1 = new RadDropDownList();

                radDropDownList1.DataSource = suplierList;
                radDropDownList1.ValueMember = "SupplierID";
                radDropDownList1.DisplayMember = "CompanyName";

                e.Editor = radDropDownList1;
            }
        }
</code></pre>

<h4>__[VB.NET] __</h4>

<pre><code>    Private radDropDownList1 As RadDropDownList

    Private Sub radDataEntry1_EditorInitializing(sender As Object, e As Telerik.WinControls.UI.EditorInitializingEventArgs)
        If e.[Property].Name = "SupplierID" Then
            radDropDownList1 = New RadDropDownList()

            radDropDownList1.DataSource = suplierList
            radDropDownList1.ValueMember = "SupplierID"
            radDropDownList1.DisplayMember = "CompanyName"

            e.Editor = radDropDownList1
        End If
    End Sub
</code></pre>

<ol>
<li>In order the values to be synchronized correctly, the bound property should be set in the <strong>BindingCreating</strong> event handler.
          In this case it should be set to the <strong>SelectedValue</strong> property.</li>
</ol>

<h4>__[C#] __</h4>

<pre><code>        void radDataEntry1_BindingCreating(object sender, Telerik.WinControls.UI.BindingCreatingEventArgs e)
        {
            if (e.DataMember == "SupplierID")
            {
                e.PropertyName = "SelectedValue";
            }
        }
</code></pre>

<h4>__[VB.NET] __</h4>

<pre><code>    Private Sub radDataEntry1_BindingCreating(sender As Object, e As Telerik.WinControls.UI.BindingCreatingEventArgs)
        If e.DataMember = "SupplierID" Then
            e.PropertyName = "SelectedValue"
        End If
    End Sub
</code></pre>

<ol>
<li>When the data source is using nullable values in order the user to be able to change the current value via the drop down list, the result
          value should be manually parsed. This can be done in the binding's <strong>Parse</strong> event.
          You can subscribe to this event in the <strong>BindingCreated</strong> event handler (in order this event to fire the formatting should be enabled).</li>
</ol>

<h4>__[C#] __</h4>

<pre><code>        void radDataEntry1_BindingCreated(object sender, BindingCreatedEventArgs e)
        {
            if (e.DataMember == "SupplierID")
            {
                e.Binding.FormattingEnabled = true;
                e.Binding.Parse += new ConvertEventHandler(Binding_Parse);
            }
        }

        private void Binding_Parse(object sender, ConvertEventArgs e)
        {
            int tmpvalue;
            int? result = int.TryParse(e.Value.ToString(), out tmpvalue) ? tmpvalue : (int?)null;

            e.Value = result;
        }
</code></pre>

<h4>__[VB.NET] __</h4>

<pre><code>    Private Sub radDataEntry1_BindingCreated(sender As Object, e As BindingCreatedEventArgs)
        If e.DataMember = "SupplierID" Then
            e.Binding.FormattingEnabled = True
            AddHandler e.Binding.Parse, AddressOf Binding_Parse
        End If
    End Sub


    Private Sub Binding_Parse(sender As Object, e As ConvertEventArgs)
        Dim tmpvalue As Integer
        Dim result As System.Nullable(Of Integer) = If(Integer.TryParse(e.Value.ToString(), tmpvalue), tmpvalue, DirectCast(Nothing, System.Nullable(Of Integer)))

        e.Value = result
    End Sub
</code></pre>

<p>To make the example complete you can use the following classes.</p>

<h4>__[C#] __</h4>

<pre><code>    public class Product
    {
        private int? _supplierID;
        private string _productName;

        public Product(int? supplierID, string productName)
        {
            this._supplierID = supplierID;
            this._productName = productName;
        }

        public int? SupplierID
        {
            get
            {
                return this._supplierID;
            }
            set
            {
                this._supplierID = value;
            }
        }

        public string ProductName
        {
            get
            {
                return this._productName;
            }
            set
            {
                this._productName = value;
            }
        }
    }

    public partial class Supplier
    {
        private int? _supplierID;
        private string _companyName;

        public Supplier(int? supplierID, string companyName)
        {
            this._supplierID = supplierID;
            this._companyName = companyName;
        }

        public int? SupplierID
        {
            get
            {
                return this._supplierID;
            }
            set
            {
                this._supplierID = value;
            }
        }

        public string CompanyName
        {
            get
            {
                return this._companyName;
            }
            set
            {
                this._companyName = value;
            }
        }
    }
</code></pre>

<h4>__[VB.NET] __</h4>

<pre><code>Public Class Product
    Private _supplierID As System.Nullable(Of Integer)
    Private _productName As String

    Public Sub New(supplierID As System.Nullable(Of Integer), productName As String)
        Me._supplierID = supplierID
        Me._productName = productName
    End Sub

    Public Property SupplierID() As System.Nullable(Of Integer)
        Get
            Return Me._supplierID
        End Get
        Set(value As System.Nullable(Of Integer))
            Me._supplierID = value
        End Set
    End Property

    Public Property ProductName() As String
        Get
            Return Me._productName
        End Get
        Set(value As String)
            Me._productName = value
        End Set
    End Property
End Class

Partial Public Class Supplier
    Private _supplierID As System.Nullable(Of Integer)
    Private _companyName As String

    Public Sub New(supplierID As System.Nullable(Of Integer), companyName As String)
        Me._supplierID = supplierID
        Me._companyName = companyName
    End Sub

    Public Property SupplierID() As System.Nullable(Of Integer)
        Get
            Return Me._supplierID
        End Get
        Set(value As System.Nullable(Of Integer))
            Me._supplierID = value
        End Set
    End Property

    Public Property CompanyName() As String
        Get
            Return Me._companyName
        End Get
        Set(value As String)
            Me._companyName = value
        End Set
    End Property
End Class
</code></pre>

<p>You can initialize the data sources in the Form’s constructor.</p>

<h4>__[C#] __</h4>

<pre><code>        List&lt;Product&gt; productList;
        List&lt;Supplier&gt; suplierList;
        BindingSource productsBinding;

        public ChangeEditorToDropDownList()
        {
            InitializeComponent();
            productList = new List&lt;Product&gt;();
            suplierList = new List&lt;Supplier&gt;();

            productList.Add(new Product(1, "Chai"));
            productList.Add(new Product(2, "Chang"));
            productList.Add(new Product(3, "Aniseed Syrup"));
            productList.Add(new Product(4, "Chef Anton's Gumbo Mix"));
            productList.Add(new Product(5, "Tofu"));
            productList.Add(new Product(null, "Sir Rodney's Marmalade"));
            productList.Add(new Product(6, "Boston Crab Meat"));
            productList.Add(new Product(5, "Chartreuse verte"));
            productList.Add(new Product(2, "Ravioli Angelo"));
            productList.Add(new Product(4, "Perth Pasties"));

            suplierList.Add(new Supplier(1, "Exotic Liquids"));
            suplierList.Add(new Supplier(2, "New Orleans Cajun Delights"));
            suplierList.Add(new Supplier(3, "Tokyo Traders"));
            suplierList.Add(new Supplier(4, "Norske Meierier"));
            suplierList.Add(new Supplier(5, "New England Seafood Cannery"));
            suplierList.Add(new Supplier(6, "Leka Trading"));

            productsBinding = new BindingSource();
            productsBinding.DataSource = productList;
        }
</code></pre>

<h4>__[VB.NET] __</h4>

<pre><code>    Private productList As List(Of Product)
    Private suplierList As List(Of Supplier)
    Private productsBinding As BindingSource

    Public Sub New()
        InitializeComponent()
        productList = New List(Of Product)()
        suplierList = New List(Of Supplier)()

        productList.Add(New Product(1, "Chai"))
        productList.Add(New Product(2, "Chang"))
        productList.Add(New Product(3, "Aniseed Syrup"))
        productList.Add(New Product(4, "Chef Anton's Gumbo Mix"))
        productList.Add(New Product(5, "Tofu"))
        productList.Add(New Product(Nothing, "Sir Rodney's Marmalade"))
        productList.Add(New Product(6, "Boston Crab Meat"))
        productList.Add(New Product(5, "Chartreuse verte"))
        productList.Add(New Product(2, "Ravioli Angelo"))
        productList.Add(New Product(4, "Perth Pasties"))

        suplierList.Add(New Supplier(1, "Exotic Liquids"))
        suplierList.Add(New Supplier(2, "New Orleans Cajun Delights"))
        suplierList.Add(New Supplier(3, "Tokyo Traders"))
        suplierList.Add(New Supplier(4, "Norske Meierier"))
        suplierList.Add(New Supplier(5, "New England Seafood Cannery"))
        suplierList.Add(New Supplier(6, "Leka Trading"))

        productsBinding = New BindingSource()
        productsBinding.DataSource = productList
    End Sub
</code></pre>
        </article>
    </div>	
</div>

<footer>	
    <p><a onclick="javascript:SubmitFeedback('documentation@telerik.com','Telerik UI for WinForms','','','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback'); return false;" href="javascript:;" id="send-feedback">Send Feedback</a> Copyright &copy; 2002-<span id="toYear"></span> Telerik. All rights reserved.</p>
</footer>

    </body>
</html>

