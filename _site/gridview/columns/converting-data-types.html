<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9">
        <title>Converting Data Types</title>
		
        <link href="/devtools/winforms/favicon.ico?Version=2014" rel="shortcut icon" />
		
        <meta name="description" content="Converting Data Types">
        <link href="http://cdn.kendostatic.com/2014.2.716/styles/kendo.common.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="/devtools/winforms/assets/styles-0b5a71aa940403cb3ac60d7e91e25e1d.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/theme-52ac78f88dc084a004a9f7d63a3c4245.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/branding-fafb6ed99bf90d251675534381e6f139.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/highlight-49ceada082f1c903edb130c25d09cf1f.css">
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://cdn.kendostatic.com/2014.2.716/js/kendo.web.min.js"></script>
        <script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/app-6da8e8e1ef6e19ee4a020ec34f48078c.js"></script>
		<script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/branding-59377013fb75f02a1dbffd638033ef6d.js"></script>
		<script src="/devtools/winforms/assets/feedback-76cd418a099f8d21592f412fb4a31191.js"></script>
		
		<!--[if lt IE 9]>
		<script>
		document.createElement('header');
		document.createElement('nav');
		document.createElement('section');
		document.createElement('article');
		document.createElement('aside');
		document.createElement('footer');
		document.createElement('hgroup');
		</script>
		<![endif]-->
    </head>
    <body class="faux-columns">
        <!-- Google Tag Manager -->
        <noscript>
            <iframe src="//www.googletagmanager.com/ns.html?id=GTM-6X92" height="0" width="0" style="display: none; visibility: hidden"></iframe>
        </noscript>
        <script>(function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-6X92');</script>
        <!-- End Google Tag Manager -->
        <header id="page-header">
			<span class="toggle-nav"><span></span></span>
            


<div id="page-search">
	<script>
  (function() {
    var cx = '001595215763381649090:jt1stbj813w';
    var gcse = document.createElement('script');
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

</div>

<span class="show-search">
	<span class="k-icon k-i-search"></span>
</span>

<div class="nav-buttons">


</div>





        </header>

        <div id="page-inner-content">
    <div id="page-nav">
        <div id="page-tree"></div>
        <script>
			$("#page-tree").kendoTreeView({
				dataSource: {
					transport: {
						read: {
							url: "/devtools/winforms/default.json",
							dataType: "json"
						}
					},
					schema: {
						model: {
							id: "path",
							children: "items",
							hasChildren: "items"
						}
					}
				},
				select: preventParentSelection,
				template: navigationTemplate("/devtools/winforms/"),
				dataBound: expandNavigation("gridview/columns/converting-data-types.html")
			});
        </script>
		<div id="page-api" class="k-treeview">
			<ul class="k-group">
				<li class="k-item">
					<span class="k-icon k-plus" role="presentation"></span>
					<span class="k-in">
						<a href="/devtools/winforms/api/" target="_blank">API Reference</a>
					</span>
				</li>
			</ul>
		</div>			
    </div>
	<a id="page-edit-link" class="btn btn-action" href="https://github.com/telerik/xaml-docs/edit/master/gridview/columns/converting-data-types.md">Edit this page</a>
    <div id="page-article">       
        <article>
            <h1 id="converting-data-types"><a href="#converting-data-types">Converting Data Types</a></h1>

<h2 id="overview"><a href="#overview">Overview</a></h2>

<p>The GridViewDataColumn provides a unified way of converting incompatible value types to a type supported by the column instance. The standard <br>
            <a href="http://msdn.microsoft.com/en-us/library/system.componentmodel.typeconverter.aspx">.NET Framework TypeConverter subclasses</a><br>
         are used to convert values between data types.</p>

<p>For instance, instead of using <br>
            <a href="/devtools/winforms/gridview/columns/column-types/gridviewtextboxcolumn">GridViewTextBoxColumn</a><br>
             to display char fields you want to use a <br>
            <a href="BCA512FB-1394-4EE4-98A2-9B81CA5DEB72">GridViewCheckBoxColumn</a>,<br>
            implement a custom Type Converter class which to determine how RadGridView recognizes this type. For more information, see.<br>
            <a href="http://msdn.microsoft.com/en-us/library/ayybcxe5.aspx">How to: Implement a Type Converter in MSDN.</a></p>

<p>As a quick example, let’s say that we want to convert char values Y and N to ToggleState values ToggleState.On and <br>
            ToggleState.Off. To do this we will need to implement the ToggelStateConverter class that converts these values:</p>

<h4><strong>[C#] ToggleState converter</strong></h4>

<pre><code>        public class ToggleStateConverter : TypeConverter
        {
            public override bool CanConvertTo(ITypeDescriptorContext context, Type destinationType)
            {
                return destinationType == typeof(ToggleState);
            }

            public override object ConvertTo(ITypeDescriptorContext context, CultureInfo culture, object value, Type destinationType)
            {
                char charValue = (char)value;

                switch (charValue)
                {
                    case 'Y':
                        return ToggleState.On;
                    case 'N':
                        return ToggleState.Off;
                    case 'M':
                        return ToggleState.Indeterminate;
                }

                return base.ConvertTo(context, culture, value, destinationType);
            }

            public override bool CanConvertFrom(ITypeDescriptorContext context, Type sourceType)
            {
                return sourceType == typeof(ToggleState);
            }

            public override object ConvertFrom(ITypeDescriptorContext context, CultureInfo culture, object value)
            {
                ToggleState state = (ToggleState)value;

                switch (state)
                {
                    case ToggleState.On:
                        return 'Y';
                    case ToggleState.Off:
                        return 'N';
                    case ToggleState.Indeterminate:
                        return 'M';
                }

                return base.ConvertFrom(context, culture, value);
            }
        }
</code></pre>

<h4><strong>[VB.NET] ToggleState converter</strong></h4>

<pre><code>    Public Class ToggleStateConverter
        Inherits TypeConverter
        Public Overrides Function CanConvertTo(ByVal context As ITypeDescriptorContext, ByVal destinationType As Type) As Boolean
            Return destinationType.Equals(GetType(ToggleState))
        End Function

        Public Overrides Function ConvertTo(ByVal context As ITypeDescriptorContext, ByVal culture As CultureInfo, ByVal value As Object, ByVal destinationType As Type) As Object
            Dim charValue As Char = CChar(value)

            Select Case charValue
                Case "Y"
                    Return ToggleState.[On]
                Case "N"
                    Return ToggleState.Off
                Case "M"
                    Return ToggleState.Indeterminate
            End Select

            Return MyBase.ConvertTo(context, culture, value, destinationType)
        End Function

        Public Overrides Function CanConvertFrom(ByVal context As ITypeDescriptorContext, ByVal sourceType As Type) As Boolean
            Return sourceType.Equals(GetType(ToggleState))
        End Function

        Public Overrides Function ConvertFrom(ByVal context As ITypeDescriptorContext, ByVal culture As CultureInfo, ByVal value As Object) As Object
            Dim state As ToggleState = DirectCast(value, ToggleState)

            Select Case state
                Case ToggleState.[On]
                    Return "Y"
                Case ToggleState.Off
                    Return "N"
                Case ToggleState.Indeterminate
                    Return "M"
            End Select

            Return MyBase.ConvertFrom(context, culture, value)
        End Function
    End Class
</code></pre>

<h2 id="applying-type-converters"><a href="#applying-type-converters">Applying Type Converters</a></h2>

<p>There are two ways to apply converters to the RadGridView conversion layer:</p>

<p><strong>Setting the DataTypeConverter property of the column</strong></p>

<p>The first approach to apply type converters is to create the desired column and assign its DataTypeConverter property. This approach is handy when you using non-business objects (such as  DataTable) or your business objects’ properties  do not have TypeConverterAttribute applied.</p>

<h4><strong>[C#] Applying TypeConverter</strong></h4>

<pre><code>        private void ConvertingDataTypes_Load(object sender, EventArgs e)
        {
            GridViewCheckBoxColumn checkBox = new GridViewCheckBoxColumn("Organic", "IsOrganic");
            checkBox.DataTypeConverter = new ToggleStateConverter();
            this.radGridView1.Columns.Add(checkBox);
        }
</code></pre>

<h4><strong>[VB.NET] Applying TypeConverter</strong></h4>

<pre><code>    Private Sub ConvertingDataTypes_Load(ByVal sender As Object, ByVal e As EventArgs) Handles Me.Load
        Dim checkBox As New GridViewCheckBoxColumn("Organic", "IsOrganic")
        checkBox.DataTypeConverter = New ToggleStateConverter()
        Me.RadGridView1.Columns.Add(checkBox)
    End Sub
</code></pre>

<p><strong>Applying System.ComponentModel.TypeConverterAttribute to the incompatible property of the business object used as a data source</strong></p>

<p>The second way to add type converters is to use the TypeConverterAttribute, which allows you to specify the TypeConverter for any property in your business object. When you set it as a data source for RadGridView, you create GridViewCheckBoxColumn instead of GridViewTextBoxColumn.  . This approach is handy when you are creating your own business objects with TypeConverter attribute applied.</p>

<h4><strong>[C#] Custom class with TypeConverter attribute</strong></h4>

<pre><code>        public class Product
        {
            public int ProductID { get; set; }

            public string ProductName { get; set; }
            public string Category { get; set; }
            public int UnitsInStock { get; set; }
            public double UnitPrice { get; set; }

            [TypeConverter(typeof(ToggleStateConverter))]
            public char IsOrganic { get; set; }
            public double DeliveryDate { get; set; }
        }
</code></pre>

<h4><strong>[VB.NET] Custom class with TypeConverter attribute</strong></h4>

<pre><code>    Public Class Product
        Public Property ProductID() As Integer
            Get
                Return m_ProductID
            End Get
            Set(ByVal value As Integer)
                m_ProductID = Value
            End Set
        End Property
        Private m_ProductID As Integer

        Public Property ProductName() As String
            Get
                Return m_ProductName
            End Get
            Set(ByVal value As String)
                m_ProductName = Value
            End Set
        End Property
        Private m_ProductName As String
        Public Property Category() As String
            Get
                Return m_Category
            End Get
            Set(ByVal value As String)
                m_Category = Value
            End Set
        End Property
        Private m_Category As String
        Public Property UnitsInStock() As Integer
            Get
                Return m_UnitsInStock
            End Get
            Set(ByVal value As Integer)
                m_UnitsInStock = Value
            End Set
        End Property
        Private m_UnitsInStock As Integer
        Public Property UnitPrice() As Double
            Get
                Return m_UnitPrice
            End Get
            Set(ByVal value As Double)
                m_UnitPrice = Value
            End Set
        End Property
        Private m_UnitPrice As Double

        &lt;TypeConverter(GetType(ToggleStateConverter))&gt; _
        Public Property IsOrganic() As Char
            Get
                Return m_IsOrganic
            End Get
            Set(ByVal value As Char)
                m_IsOrganic = Value
            End Set
        End Property
        Private m_IsOrganic As Char
        Public Property DeliveryDate() As Double
            Get
                Return m_DeliveryDate
            End Get
            Set(ByVal value As Double)
                m_DeliveryDate = Value
            End Set
        End Property
        Private m_DeliveryDate As Double
    End Class
</code></pre>

<p>The following screenshot shows the result:<img src="images/gridview-columns-converting-data-types001.png" alt="gridview-columns-converting-data-types 001"></p>

<h2 id="handling-null-values"><a href="#handling-null-values">Handling Null Values</a></h2>

<p>The RadGridView’s conversation layer can handle null values. You can specify the default value that is committed to the source if the<br>
      cell value is changed to null. GridViewDataColumn’s <strong>DataSourceNullValue</strong> property can be set using the following code snippet:</p>

<h4><strong>[C#] Handling null values</strong></h4>

<pre><code>            this.radGridView1.Columns["ProductName"].DataSourceNullValue = "ENTER PRODUCT NAME";
</code></pre>

<h4><strong>[VB.NET] Handling null values</strong></h4>

<pre><code>        Me.RadGridView1.Columns("ProductName").DataSourceNullValue = "ENTER PRODUCT NAME"
</code></pre>
        </article>
    </div>	
</div>

<footer>	
    <p><a onclick="javascript:SubmitFeedback('documentation@telerik.com','Telerik UI for WinForms','','','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback'); return false;" href="javascript:;" id="send-feedback">Send Feedback</a> Copyright &copy; 2002-<span id="toYear"></span> Telerik. All rights reserved.</p>
</footer>

    </body>
</html>

