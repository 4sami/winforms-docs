<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9">
        <title>Object Relational Hierarchy Mode</title>
		
        <link href="/devtools/winforms/favicon.ico?Version=2014" rel="shortcut icon" />
		
        <meta name="description" content="Object Relational Hierarchy Mode">
        <link href="http://cdn.kendostatic.com/2014.2.716/styles/kendo.common.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="/devtools/winforms/assets/styles-849dcaf701d866988e8c3593f15b66de.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/theme-52ac78f88dc084a004a9f7d63a3c4245.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/branding-fafb6ed99bf90d251675534381e6f139.css">
        <link rel="stylesheet" href="/devtools/winforms/assets/highlight-49ceada082f1c903edb130c25d09cf1f.css">
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://cdn.kendostatic.com/2014.2.716/js/kendo.web.min.js"></script>
        <script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/app-6da8e8e1ef6e19ee4a020ec34f48078c.js"></script>
		<script src="/devtools/winforms/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/winforms/assets/branding-59377013fb75f02a1dbffd638033ef6d.js"></script>
		<script src="/devtools/winforms/assets/feedback-76cd418a099f8d21592f412fb4a31191.js"></script>
		
		<!--[if lt IE 9]>
		<script>
		document.createElement('header');
		document.createElement('nav');
		document.createElement('section');
		document.createElement('article');
		document.createElement('aside');
		document.createElement('footer');
		document.createElement('hgroup');
		</script>
		<![endif]-->
    </head>
    <body class="faux-columns">
        <!-- Google Tag Manager -->
        <noscript>
            <iframe src="//www.googletagmanager.com/ns.html?id=GTM-6X92" height="0" width="0" style="display: none; visibility: hidden"></iframe>
        </noscript>
        <script>(function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-6X92');</script>
        <!-- End Google Tag Manager -->
        <header id="page-header">
			<span class="toggle-nav"><span></span></span>
            <div id="logo-bar">
	<a href="/devtools/winforms/" title="UI for WinForms">
		<span>UI for WinForms</span>
	</a>
</div> 
<div id="page-search">
	<script>
  (function() {
    var cx = '001595215763381649090:jt1stbj813w';
    var gcse = document.createElement('script');
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

</div>

<span class="show-search">
	<span class="k-icon k-i-search"></span>
</span>

<div class="nav-buttons">
	<a href="http://demos.telerik.com/" title="WinForms Demos" target="_blank" class="btn demos-btn">Demos</a>	
	<a href="http://www.telerik.com/products/winforms.aspx" title="About UI for WinForms" target="_blank" class="btn about-btn">About</a>
	<a href="http://www.telerik.com/purchase/individual/winforms.aspx" title="Pricing" target="_blank" class="btn pricing-btn">Pricing</a>
	<a href="http://www.telerik.com/products/winforms/download.aspx" title="Try now" target="_blank" class="btn btn-primary">Try now</a>
</div>





        </header>

        <div id="page-inner-content">
    <div id="page-nav">
        <div id="page-tree"></div>
        <script>
			$("#page-tree").kendoTreeView({
				dataSource: {
					transport: {
						read: {
							url: "/devtools/winforms/default.json",
							dataType: "json"
						}
					},
					schema: {
						model: {
							id: "path",
							children: "items",
							hasChildren: "items"
						}
					}
				},
				select: preventParentSelection,
				template: navigationTemplate("/devtools/winforms/"),
				dataBound: expandNavigation("gridview/hierarchical-grid/object-relational-hierarchy-mode.html")
			});
        </script>
		<div id="page-api" class="k-treeview">
			<ul class="k-group">
				<li class="k-item">
					<span class="k-icon k-plus" role="presentation"></span>
					<span class="k-in">
						<a href="/devtools/winforms/api/" target="_blank">API Reference</a>
					</span>
				</li>
			</ul>
		</div>			
    </div>
	<a id="page-edit-link" class="btn btn-action" href="https://github.com/telerik/xaml-docs/edit/master/gridview/hierarchical-grid/object-relational-hierarchy-mode.md">Edit this page</a>
    <div id="page-article">       
        <article>
            <h1 id="object-relational-hierarchy-mode"><a href="#object-relational-hierarchy-mode">Object Relational Hierarchy Mode</a></h1>

<table>
<th></th>
<tr>
<td>

RELATED VIDEOS</td>
<td></td>
</tr>
<tr>
<td>[Creating Object Relational Hierarchies in RadGridView for WinForms](http://tv.telerik.com/watch/winforms/creating-object-relational-hierarchies-in-radgridview-for-winforms)

In this video, you will learn how to automatically and manually create object relational hierarchies in RadGridView for WinForms.
              </td>
<td>![gridview-hierarchical-grid-object-relational-hierarchy-mode 005](images/gridview-hierarchical-grid-object-relational-hierarchy-mode005.png)</td>
</tr>
</table>

<blockquote>
<p>In case you are using Telerik Open Access ORM, here you can find additional information regarding<br>
            <a href="http://documentation.telerik.com/openaccess-orm/developers-guide/openaccess-orm-domain-model/model-definition-basics/openaccess-tasks-update-schema-mechanisms-update-db-from-model">Creating New Domain Model</a></p>
</blockquote>

<h2 id="auto-generating-hierarchy-mode"><a href="#auto-generating-hierarchy-mode">Auto generating hierarchy mode</a></h2>

<p>The Object-Relational Hierarchy mode is used to show hierarchy based on a complex IList (IEnumarable) object that contains inner ILits (IEnumerable) properties.</p>

<p>In order to create an Object-Relational Hierarchy automatically in this scenario, you must set only the DataSource and the AutoGenerateHierarachy properties of RadGridView.</p>

<p>Here is an example with an entity model using the Northwind database:<img src="images/gridview-hierarchical-grid-object-relational-hierarchy-mode001.png" alt=""></p>

<h4><strong>[C#] Example of automatically generating hierarchy mode</strong></h4>

<pre><code>        private void AutoGenerateObjectRelationHierarchyMode_Load(object sender, EventArgs e)
        {
            NorthwindEntities entities = new NorthwindEntities();
            var query = from suppliers in entities.Suppliers select suppliers;

            this.radGridView1.DataSource = query.ToList();
            this.radGridView1.AutoGenerateHierarchy = true;
        }
</code></pre>

<h4><strong>[VB.NET] Example of automatically generating hierarchy mode</strong></h4>

<pre><code>    Private Sub AutoGenerateObjectRelationHierarchyMode_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
        Dim entities As New NorthwindEntities()
        Dim query = From suppliers In entities.Suppliers Select suppliers

        Me.RadGridView1.DataSource = query.ToList()
        Me.RadGridView1.AutoGenerateHierarchy = True
    End Sub
</code></pre>

<p><img src="images/gridview-hierarchical-grid-object-relational-hierarchy-mode002.png" alt=""></p>

<h2 id="manually-generating-hierarchy-mode"><a href="#manually-generating-hierarchy-mode">Manually generating hierarchy mode</a></h2>

<p>The Object-Relational hierarchy mode can be setup manually by creating the Child GridViewTemplate and adding GridViewRelation between GridViewTemplates. This special relation should contain the name of the property that belongs to the parent object and that returns  an IList (IEnumerable)  of the subobjects.  RadGridView uses the name of the property to load the necessary data for the child GridViewTemplate when the user expands a parent row.</p>

<blockquote>
<p>In this mode only the DataSource of parent  GridViewTemplate or RadGridView control must be set to a collection of custom business object or ORM data objects.</p>
</blockquote>

<p>The following example demonstrates how you can manually build an Object-Relational Hierarchy using the "Customers" entity model from the Northwind database:<img src="images/gridview-hierarchical-grid-object-relational-hierarchy-mode003.png" alt=""></p>

<h4><strong>[C#] Example of manually generating hierarchy mode</strong></h4>

<pre><code>        void ManualGenerateObjectRelationalMode_Load(object sender, EventArgs e)
        {
            NorthwindEntities entities = new NorthwindEntities();
            var query = from customers in entities.Customers select customers;

            GridViewTemplate childTemplate = CreateChildTemplate();

            GridViewRelation relation = new GridViewRelation(this.radGridView1.MasterTemplate, childTemplate);
            relation.ChildColumnNames.Add("Orders");
            this.radGridView1.Relations.Add(relation);
            this.radGridView1.DataSource = query.ToList();
        }

        private GridViewTemplate CreateChildTemplate()
        {
            GridViewTemplate childTemplate = new GridViewTemplate();
            this.radGridView1.Templates.Add(childTemplate);

            GridViewTextBoxColumn column = new GridViewTextBoxColumn("OrderDate");
            childTemplate.Columns.Add(column);
            column = new GridViewTextBoxColumn("Freight");
            childTemplate.Columns.Add(column);
            column = new GridViewTextBoxColumn("ShipName");
            childTemplate.Columns.Add(column);
            column = new GridViewTextBoxColumn("ShipCountry");
            childTemplate.Columns.Add(column);
            column = new GridViewTextBoxColumn("ShipCity");
            childTemplate.Columns.Add(column);
            column = new GridViewTextBoxColumn("ShipAddress");
            childTemplate.Columns.Add(column);
            childTemplate.AutoSizeColumnsMode = GridViewAutoSizeColumnsMode.Fill;

            return childTemplate;
        }
</code></pre>

<h4><strong>[VB.NET] Example of manually generating hierarchy mode</strong></h4>

<pre><code>    Private Sub ManualGenerateObjectRelationalMode_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
        Dim entities As New NorthwindEntities()
        Dim query = From customers In entities.Customers Select customers

        Dim childTemplate As GridViewTemplate = CreateChildTemplate()

        Dim relation As New GridViewRelation(Me.RadGridView1.MasterTemplate, childTemplate)
        relation.ChildColumnNames.Add("Orders")
        Me.RadGridView1.Relations.Add(relation)
        Me.RadGridView1.DataSource = query.ToList()

    End Sub

    Private Function CreateChildTemplate() As GridViewTemplate
        Dim childTemplate As New GridViewTemplate()
        Me.radGridView1.Templates.Add(childTemplate)

        Dim column As New GridViewTextBoxColumn("OrderDate")
        childTemplate.Columns.Add(column)
        column = New GridViewTextBoxColumn("Freight")
        childTemplate.Columns.Add(column)
        column = New GridViewTextBoxColumn("ShipName")
        childTemplate.Columns.Add(column)
        column = New GridViewTextBoxColumn("ShipCountry")
        childTemplate.Columns.Add(column)
        column = New GridViewTextBoxColumn("ShipCity")
        childTemplate.Columns.Add(column)
        column = New GridViewTextBoxColumn("ShipAddress")
        childTemplate.Columns.Add(column)
        childTemplate.AutoSizeColumnsMode = GridViewAutoSizeColumnsMode.Fill

        Return childTemplate
    End Function
</code></pre>

<p><img src="images/gridview-hierarchical-grid-object-relational-hierarchy-mode004.png" alt=""></p>

<blockquote class="important"><p>As you can notice, we can perform all data operations on the child templates – grouping, sorting and filtering. RadGridView processes only the amount of data required for a particular data operation (lazy data loading). This provides us with better performance and small memory footprint.</p></blockquote>
        </article>
    </div>	
</div>

<footer>	
    <p><a onclick="javascript:SubmitFeedback('documentation@telerik.com','Telerik UI for WinForms','','','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback'); return false;" href="javascript:;" id="send-feedback">Send Feedback</a> Copyright &copy; 2002-<span id="toYear"></span> Telerik. All rights reserved.</p>
</footer>

    </body>
</html>

